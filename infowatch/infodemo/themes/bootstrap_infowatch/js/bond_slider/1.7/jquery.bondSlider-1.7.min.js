/*
bondSlider Slider jQuery plugin
Author: Bondarenko Aleksey
Homepage: http://alex-bond.net
*/
(function(e){e.fn.bondSlider=function(t){var n={fd:{fast:"fast",normal:"normal",slow:"slow"},tpL:{h:"horizontal",v:"vertical"},tp:{opacity:"opacity",rotator:"rotator"},dr:{next:"next",prev:"prev"},typeBtn:{btn:"btn",navi:"navi",auto:"auto"},sp:{slow:600,fast:200,normal:400}};var r={autoPlay:true,autoPlayTime:7e3,autoPlaySuspend:true,loop:true,distance:null,activeFrame:0,sizeFrame:1,naviOverActive:false,hideBtn:false,hideBtnOpacity:0,hideBtnSpeed:n.fd.fast,speedOpacity:n.fd.slow,speedRotate:n.fd.slow,typeBtn:n.tp.rotator,typeThumb:n.tp.rotator,typeAutoPlay:n.tp.rotator,typeScroller:n.tpL.h,autoPlayDirect:n.dr.next,effBtn:"linear",effThumb:"linear",effAutoPlay:"linear",wrapFrames:"bondWrapFrames",frames:"bondFrames",frame:"bondFrame",navi:"bondNavi",thumb:"bondThumb",next:"bondNext",prev:"bondPrev",disableBtn:"disable",activeThumb:"activeThumb",callbackChangeActFrame:null,callbackClickFrame:null};var i=e.extend(r,t);i.speedOpacity=n.sp[i.speedOpacity]||i.speedOpacity;i.speedRotate=n.sp[i.speedRotate]||i.speedRotate;var s=this;var o=s.find("."+i.next);var u=s.find("."+i.prev);var a=s.find("."+i.navi);var f=a.find(" ."+i.thumb);var l=s.find("."+i.wrapFrames);var c=s.find("."+i.frames);var h=s.find("."+i.frame);var p={totalFrames:null,widthCont:null,autoPlayTimer:null,btnOpacity:{next:null,prev:null,navi:null}};var d=function(e,t){if(e==null)return;if(i.typeScroller==n.tpL.h)c.stop().animate({left:-e.left},i.speedRotate,t);else if(i.typeScroller==n.tpL.v)c.stop().animate({top:-e.top},i.speedRotate,t)};var v=function(e){if(e==null)return;if(i.typeScroller==n.tpL.h){setTimeout(function(){c.stop().animate({opacity:0},i.speedOpacity)},0);setTimeout(function(){c.stop().css({left:-e.left})},i.speedOpacity);setTimeout(function(){c.stop().animate({opacity:1},i.speedOpacity)},i.speedOpacity)}else if(i.typeScroller==n.tpL.v){setTimeout(function(){c.stop().animate({opacity:0},i.speedOpacity)},0);setTimeout(function(){c.stop().css({top:-e.top})},i.speedOpacity);setTimeout(function(){c.stop().animate({opacity:1},i.speedOpacity)},i.speedOpacity)}};var m=function(t,r){function s(t,n){function s(e){if(!i.loop){if(p.totalFrames==null){u.addClass(i.disableBtn);o.addClass(i.disableBtn)}else{if(e<=0){u.addClass(i.disableBtn);o.removeClass(i.disableBtn)}else if(e>=p.totalFrames-1){o.addClass(i.disableBtn);u.removeClass(i.disableBtn)}else if(e>0&&e<p.totalFrames-1){u.removeClass(i.disableBtn);o.removeClass(i.disableBtn)}}}}s(t);f.not(e(f.get(t))).removeClass(i.activeThumb);e(f.get(t)).addClass(i.activeThumb);var r=e(h.get(t*i.sizeFrame)).position();m(r,n)}function a(e,t){function a(e){if(e==null)return;if(!i.loop){if(i.typeScroller==n.tpL.h){if(e.left==0&&c.outerWidth()==l.width()){u.addClass(i.disableBtn);o.addClass(i.disableBtn)}else if(e.left<=0){u.addClass(i.disableBtn);o.removeClass(i.disableBtn)}else if(e.left+l.width()>=c.outerWidth()){o.addClass(i.disableBtn);u.removeClass(i.disableBtn)}else if(e.left>=0&&e.left+l.width()<=c.outerWidth()){o.removeClass(i.disableBtn);u.removeClass(i.disableBtn)}}else if(i.typeScroller==n.tpL.v){if(e.top==0&&c.outerHeight()==l.height()){u.addClass(i.disableBtn);o.addClass(i.disableBtn)}else if(e.top<=0){u.addClass(i.disableBtn);o.removeClass(i.disableBtn)}else if(e.top+l.height()>=c.outerHeight()){o.addClass(i.disableBtn);u.removeClass(i.disableBtn)}else if(e.top>=0&&e.top+l.height()<=c.outerHeight()){u.removeClass(i.disableBtn);o.removeClass(i.disableBtn)}}}}var r={};if(e==n.dr.next){if(i.typeScroller==n.tpL.h){var s=-c.css("left").replace("px","")+i.distance;if(i.loop){if(-c.css("left").replace("px","")==c.outerWidth()-l.width())r.left=0;else r.left=Math.min(s,c.outerWidth()-l.width())}else r.left=Math.min(s,c.outerWidth()-l.width())}else if(i.typeScroller==n.tpL.v){var s=-c.css("top").replace("px","")+i.distance;if(i.loop){if(-c.css("top").replace("px","")==c.outerHeight()-l.height())r.top=0;else r.top=Math.min(s,c.outerHeight()-l.height())}else r.top=Math.min(s,c.outerHeight()-l.height())}}else if(e==n.dr.prev){if(i.typeScroller==n.tpL.h){var s=-c.css("left").replace("px","")-i.distance;if(i.loop){if(c.css("left").replace("px","")==0)r.left=c.outerWidth()-l.width();else r.left=Math.max(s,0)}else r.left=Math.max(s,0)}else if(i.typeScroller==n.tpL.v){var s=-c.css("top").replace("px","")-i.distance;if(i.loop){if(c.css("top").replace("px","")==0)r.top=c.outerHeight()-l.height();else r.top=Math.max(s,0)}else r.top=Math.max(s,0)}}a(r);m(r,t)}function m(e,t){if(e==null)return;switch(t){case n.typeBtn.btn:if(i.typeBtn==n.tp.opacity)v(e);else d(e,jQuery.easing[i.effBtn]==null?"linear":i.effBtn);break;case n.typeBtn.navi:if(i.typeThumb==n.tp.opacity)v(e);else d(e,jQuery.easing[i.effThumb]==null?"linear":i.effThumb);break;case n.typeBtn.auto:if(i.typeAutoPlay==n.tp.opacity)v(e);else d(e,jQuery.easing[i.effAutoPlay]==null?"linear":i.effAutoPlay);break}}if(typeof t=="number")s(t,r);else if(typeof t=="string")a(t,r)};var g=function(){function t(){function a(t,r,s){var o=0;for(var u=0;u<s;u++){var a=r*s+u;if(t.length-1<a)break;if(i.typeScroller==n.tpL.h)o=o+e(t.get(a)).outerWidth();else if(i.typeScroller==n.tpL.v)o=o+e(t.get(a)).outerHeight()}return o}var t=0;p.totalFrames=Math.ceil(h.length/i.sizeFrame);var r=h.length%i.sizeFrame;for(var s=0,o=0;s<p.totalFrames;s++){if(i.typeScroller==n.tpL.h){var u=a(h,s,i.sizeFrame);p.widthCont=p.widthCont+u}}}function r(){f.each(function(t,n){if(t>p.totalFrames-1)e(n).hide()})}c.css({position:"relative"});l.css({position:"relative"});l.css({overflow:"hidden"});t();r();if(i.hideBtn){if(o!=null){p.btnOpacity.next=o.css("opacity");o.css({opacity:i.hideBtnOpacity})}if(u!=null){p.btnOpacity.prev=u.css("opacity");u.css({opacity:i.hideBtnOpacity})}if(a!=null){p.btnOpacity.navi=a.css("opacity");a.css({opacity:i.hideBtnOpacity})}}if(i.typeScroller==n.tpL.h){h.css({"float":"left"});c.width(p.widthCont);m(i.activeFrame)}if(i.typeScroller==n.tpL.v){h.css({"float":"none"});m(i.activeFrame)}}();var y=function(){function t(e){if(!(i.distance==null)){m(n.dr.next,n.typeBtn.btn);return}i.activeFrame++;if(i.activeFrame>=p.totalFrames&&(i.loop||p.autoPlayTimer))i.activeFrame=0;else if(i.activeFrame>=p.totalFrames&&!i.loop){i.activeFrame--;return}m(i.activeFrame,e==null?n.typeBtn.btn:e)}function r(e){if(!(i.distance==null)){m(n.dr.prev,n.typeBtn.btn);return}i.activeFrame--;if(i.activeFrame<0&&(i.loop||p.autoPlayTimer))i.activeFrame=p.totalFrames-1;else if(i.activeFrame<0&&!i.loop){i.activeFrame++;return}m(i.activeFrame,e==null?n.typeBtn.btn:e)}function c(){if(i.autoPlay==true){p.autoPlayTimer=setInterval(function(){if(i.autoPlayDirect==n.dr.prev){r(n.typeBtn.auto);v("prev")}else{t(n.typeBtn.auto);v("next")}},i.autoPlayTime)}}function d(){clearInterval(p.autoPlayTimer);delete p.autoPlayTimer}function v(e){if(i.callbackChangeActFrame){var t=i.distance==null?i.activeFrame:null;i.callbackChangeActFrame(e,t)}}c();if(o!=null){o.click(function(e){d();t();v("next");return false})}if(u!=null){u.click(function(e){d();r();v("prev");return false})}if(f!=null){f.each(function(t,r){function s(){d();i.activeFrame=t;m(i.activeFrame,n.typeBtn.navi);v("navi");return false}if(p.totalFrames<=t)return;if(i.naviOverActive){e(r).mouseenter(s)}else e(r).click(s)})}if(i.hideBtn){s.mouseenter(function(){o.stop().animate({opacity:p.btnOpacity.next},i.hideBtnSpeed);u.stop().animate({opacity:p.btnOpacity.prev},i.hideBtnSpeed);a.stop().animate({opacity:p.btnOpacity.navi},i.hideBtnSpeed)});s.mouseleave(function(){o.stop().animate({opacity:i.hideBtnOpacity},i.hideBtnSpeed);u.stop().animate({opacity:i.hideBtnOpacity},i.hideBtnSpeed);a.stop().animate({opacity:i.hideBtnOpacity},i.hideBtnSpeed)})}if(i.callbackClickFrame){h.each(function(t,n){e(n).click(function(e){i.callbackClickFrame(t)})})}if(i.autoPlaySuspend){l.mouseenter(function(){d()});l.mouseleave(function(){c()})}}();return this}})(jQuery)